!function(){"use strict";var t="Atomico",e="elementMount",n="elementUnmount",i="elementReceiveProps";function s(t,e){for(var n={},i=0;i<t.length;i++){var s=t[i],r=e instanceof HTMLElement?e.getAttribute(s):e[s];n[s.replace(/-+([\w])/g,function(t,e){return e.toUpperCase()})]=r}return n}function r(t){return t.shadowRoot||t}function o(t,e){r(t).removeChild(e)}function a(t,e){r(t).appendChild(e)}function l(t,e,n){r(t).replaceChild(e,n)}function c(t,e){for(var n=arguments,i=[],s=arguments.length-2;s-- >0;)i[s]=n[s+2];return new d(t,e,h(i))}function d(t,e,n){this.tag=t,this.props=e||{},this.children=n||[]}function p(t){return"object"==typeof t&&t instanceof d}function h(t,e){void 0===e&&(e=[]);for(var n=0;n<t.length;n++){var i=t[n];Array.isArray(i)?h(i,e):e.push(p(i)?i:new d("",{},i||""))}return e}function u(t,e,n,s,r){for(var o=Object.keys(e).concat(Object.keys(n)),a=0;a<o.length;a++){var l=o[a];if(r="class"===r?"className":r,e[l]!==n[l]){if(r&&t._props.indexOf(l)>-1){r[l]=n[l];continue}if("function"==typeof n[l]||"function"==typeof e[l])e[l]&&t.removeEventListener(l,e[l]),t.addEventListener(l,n[l]);else if(l in n)if(l in t&&!s||s&&"style"===l)if("style"===l)if("object"==typeof n[l])for(var c in n[l])t.style[c]=n[l][c];else t.style.cssText=n[l];else t[l]=n[l];else{if(s&&"xmlns"===l)continue;s?t.setAttributeNS(null,l,n[l]):t.setAttribute(l,n[l])}else t.removeAttribute(l)}}r&&t.dispatch(i,r)}class f extends HTMLElement{constructor(){super(),this[t]=!0,this.state={},this._props=this.constructor.props||[],this.props=s(this._props,this),this.props.children=[],this._render=[],this.load()}static get observedAttributes(){return this.props||[]}load(){var t=this,s=!0;this.listeners=[e,n,i].map(function(n){var r=function(r){r.type===n&&(n===e&&(s=!1),s||(t[n]&&t[n](r),r.defaultPrevented||(n===i&&(t.props=Object.assign({},t.props,r.detail)),t.setState({}))))};return t.addEventListener(n,r),function(){return t.removeEventListener(n,r)}})}connectedCallback(){this.dispatch(e)}disconnectedCallback(){this.dispatch(n),this.listeners.forEach(function(t){return t()})}attributeChangedCallback(t,e,n){var r;e!==n&&this.dispatch(i,s([t],((r={})[t]=n,r)))}dispatch(t,e){this.dispatchEvent(new CustomEvent(t,{cancelable:!0,detail:e}))}setState(e){if(e){this.state=Object.assign({},this.state,e);var n=h([this.render()]);(function e(n,i,s,r){for(var c=n.childNodes||[],p=Math.max(i.length,s.length),h=0;h<p;h++){var f=i[h]||new d,g=s[h],v=c[h];if(g){var m=v;if(r=r||"svg"===g.tag,f.tag!==g.tag)if(g.tag)if(m=r?document.createElementNS("http://www.w3.org/2000/svg",g.tag):document.createElement(g.tag),v){if(l(n,m,v),!m[t])for(;v.firstChild;)a(m,v.firstChild)}else a(n,m);else m=document.createTextNode(""),f.tag?l(n,m,v):a(n,m);"#text"===m.nodeName?f.children!==g.children&&(m.textContent=g.children):(u(m,f.props,g.props,r,m[t]&&{children:g.children.map(function(t){return t.children})}),m&&!m[t]&&e(m,f.children,g.children,r))}else v&&o(n,v)}})(r(this),this._render,n),this._render=n}}render(){}}customElements.define("movie-header",class extends f{constructor(){super(),this.attachShadow({mode:"open"})}static get props(){return["title","page"]}css(){return"\n            :host{\n                width : 100%;\n                display:block;\n                border-top: 5px solid #a24cd2;\n            }\n            .box{\n                display : flex;\n                justify-content : space-between;\n                padding: 1rem 2rem;\n                box-sizing: border-box;\n                align-items : center;\n                flex-flow: row wrap;\n            }\n            .logo{\n                font-size : 28px;\n                color : #232329;\n                padding : 1rem 0px;\n            }\n            .pages{\n                height : 35px;\n                display : flex;\n                flex-flow : row wrap;\n                overflow : hidden;\n                border-radius : 5px;\n            }\n            .pages button{\n                border : none;\n                background : #a24cd2;\n                color : white;\n                font-weight : 700;\n                width : 80px;\n            }\n            .pages div{\n                padding : 1rem;\n                box-sizing: border-box;\n                padding: 0px 1rem;\n                border: 2px solid #a24ed2;\n                color : #a24ed2;\n            }\n        "}render(){var t=this;return c("div",{class:"box"},c("style",null,this.css()),c("div",{class:"logo"},this.props.title),c("div",{class:"pages"},c("button",{click:function(){t.dispatch("prev")}},"Prev"),c("div",null,this.props.page),c("button",{click:function(){t.dispatch("next")}},"Next")))}}),customElements.define("movie-preview",class extends f{constructor(){super(),this.attachShadow({mode:"open"})}static get props(){return["title","image","detail","rank"]}css(){return"\n            :host{\n                width : 280px;\n                display:block;\n                box-sizing: border-box;\n                padding : 1rem;\n                color : #232329;\n            }\n            .blur{\n                position : relative;\n            }\n            .blur img:first-child{\n                position : absolute;\n                top : 0px;\n                left : 0px;\n                width : 100%;\n                height : 100%;\n                filter : blur(30px);\n                opacity : .5;\n            }\n            .blur img:last-child{\n                width : 100%;\n                position : relative;\n                z-index: 1;\n                border-radius : 10px;\n                display : block;\n            }\n            .group{\n                width : 100%;\n                text-align : center;\n                padding-top : 1rem;\n            }\n            .title{\n                font-size : 18px;\n            }\n            .detail{\n                font-size : 12px;\n                opacity : .5;\n                line-height: 1.2em;\n            }\n            .rank{\n                position : relative;\n                display : inline-block;\n                margin-top : 10px;\n            }\n            .rank button{\n                position : absolute;\n                width : 100%;\n                height : 100%;\n                border : none;\n                left : 0px;\n                background : transparent;\n                font-size : 10px;\n                font-weight : bold;\n            }\n        "}render(){var t=this.props,e=t.title;void 0===e&&(e="");var n=t.detail;return void 0===n&&(n=""),c("div",{class:"box"},c("style",null,this.css()),c("div",{class:"blur"},c("img",{src:this.props.image,alt:""}),c("img",{src:this.props.image,alt:""})),c("div",{class:"group"},c("div",{class:"title"},(this.props.title||"").slice(0,20),(this.props.title||"").length>20?"...":""),c("div",{class:"detail"},(this.props.detail||"").slice(0,60),"..."),c("div",{class:"rank"},c("button",null,this.props.rank),c("svg",{height:"40",width:"40",viewBox:"0 0 100 100",style:{transform:"rotate(-90deg)",display:"block"}},c("circle",{cx:"50",cy:"50",r:"40",stroke:"#a24cd2","stroke-width":"10","stroke-linecap":"round","stroke-dasharray":100+this.props.rank/10*250+" 300","stroke-dashoffset":"100",fill:"rgba(0,0,0,0)"})))))}}),customElements.define("tag-movies",class extends f{constructor(){super(),this.attachShadow({mode:"open"})}css(){return"\n                :host{\n                    width : 100%;\n                    height : 100%;\n                    display : block;\n                    overflow-x : hidden;\n                    overflow-y : scroll;\n                }\n                .list{\n                    width : 100%;\n                    display : flex;\n                    flex-flow : row wrap;\n                    justify-content : center;\n                }\n            "}elementMount(){this.fetch(1)}fetch(t){var e=this;if(!this.prevent)return this.prevent=!0,fetch("https://api.themoviedb.org/3/discover/movie?page="+t+"&primary_release_date.gte=2014-09-15&primary_release_date.lte=2014-10-22&api_key=a361f80e17f8fb69899e2088cb413984").then(function(t){return t.json()}).then(function(t){e.setState(t),e.prevent=!1})}render(){var t=this;return console.log(this.state),c("div",{class:"box"},c("style",null,this.css()),c("movie-header",{title:"Trending movies",page:this.state.page,prev:function(){t.fetch(t.state.page-1)},next:function(){t.fetch(t.state.page+1)}}),c("div",{class:"list"},(this.state.results||[]).map(function(t){return c("movie-preview",{title:t.title,detail:t.overview,rank:t.vote_average,image:"https://image.tmdb.org/t/p/w300_and_h450_bestv2/"+t.poster_path})})))}})}();
//# sourceMappingURL=app.js.map
